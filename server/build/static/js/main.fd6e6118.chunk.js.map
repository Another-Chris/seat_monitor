{"version":3,"sources":["components/Navbar/Navbar.js","socket/index.js","context/socketContext.js","components/Progress/Progress.js","components/Seats/Info.js","components/Seats/Tip.js","components/Seats/SeatsIcons.js","components/Seats/Seats.js","App.js","index.js"],"names":["StyledAppBar","styled","AppBar","backgroundColor","Navbar","position","Toolbar","Typography","variant","IO_EVENTS","connectIo","Promise","resolve","reject","socket","io","process","on","error","seatObj","SocketContext","createContext","SocketContextProvider","children","useState","setSocket","useEffect","a","appSocket","emit","console","log","connect","Provider","value","StyledContainer","theme","display","alignItems","flexDirection","Progress","style","marginBottom","CircularProgress","InfoContainer","StyledTypo","breakpoints","down","fontSize","typography","h2","StyledProgress","LinearProgress","small","spacing","palette","light","primary","main","Info","availableSeats","Tip","anchorEl","close","ClickAwayListener","mouseEvent","onClickAway","Popper","open","Paper","Table","TableBody","TableRow","TableCell","sx","color","StyledIcon","EventSeatIcon","available","width","height","fill","dark","grey","cursor","SeatIcons","gridTemplateColumns","gridTemplateRows","marginTop","justifyItems","SeatsIcons","seats","clicked","setClicked","onClickIcon","e","target","map","seat","onClick","seatNo","padding","margin","minHeight","maxWidth","Seats","useContext","setSeats","filter","length","memo","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd6e6118.chunk.js","sourcesContent":["import { Typography, AppBar, Toolbar } from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\n\r\nconst StyledAppBar = styled(AppBar)({\r\n  backgroundColor: \"#343a40\",\r\n});\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <StyledAppBar position=\"static\">\r\n      <Toolbar>\r\n        <Typography variant=\"h5\">Seat Monitor</Typography>\r\n      </Toolbar>\r\n    </StyledAppBar>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import io from \"socket.io-client\";\r\n\r\nconst server = process.env.REACT_APP_SERVER;\r\n\r\nexport const IO_EVENTS = {\r\n  GET_SEATS_INFO: \"GET_SEATS_INFO\",\r\n  RECEIVE_SEATS_INFO: \"RECEIVE_SEATS_INFO\",\r\n};\r\n\r\nexport const connectIo = () =>\r\n  new Promise((resolve, reject) => {\r\n    const socket = io(server);\r\n\r\n    socket.io.on(\"error\", (error) => reject(error));\r\n    socket.on(\"connect\", (seatObj) => {\r\n      resolve(socket);\r\n    });\r\n  });\r\n","import { createContext, useEffect, useState } from \"react\";\r\nimport { connectIo, IO_EVENTS } from \"../socket\";\r\n\r\nexport const SocketContext = createContext({});\r\n\r\nconst SocketContextProvider = ({ children }) => {\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function connect() {\r\n      try {\r\n        const appSocket = await connectIo();\r\n\r\n        appSocket.emit(IO_EVENTS.GET_SEATS_INFO);\r\n\r\n        setSocket(appSocket);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n    connect();\r\n  }, []);\r\n\r\n  return (\r\n    <SocketContext.Provider value={{ socket }}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n};\r\n\r\nexport default SocketContextProvider;\r\n","import { CircularProgress, Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst StyledContainer = styled(\"div\")(({ theme }) => ({\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  flexDirection: \"column\"\r\n}));\r\n\r\nfunction Progress() {\r\n  return (\r\n    <StyledContainer>\r\n      <Typography style = {{marginBottom: \"1em\"}} variant=\"body2\"> loading... </Typography>\r\n      <CircularProgress />\r\n    </StyledContainer>\r\n  );\r\n}\r\n\r\nexport default Progress;\r\n","import { LinearProgress, Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\n\r\nconst InfoContainer = styled(\"div\")(({ theme }) => ({}));\r\n\r\nconst StyledTypo = styled(Typography)(({theme}) => ({\r\n  [theme.breakpoints.down(\"sm\")]: {\r\n    fontSize: theme.typography.h2.fontSize\r\n  }\r\n}))\r\n\r\nconst StyledProgress = styled(LinearProgress)(({ theme, value }) => {\r\n  const small = value < 60;\r\n  return {\r\n    marginBottom: theme.spacing(1),\r\n    backgroundColor: small\r\n      ? theme.palette.error.light + \"30\"\r\n      : theme.palette.primary.light + \"30\",\r\n    \"& .MuiLinearProgress-bar\": {\r\n      backgroundColor: small\r\n        ? theme.palette.error.main\r\n        : theme.palette.primary.main,\r\n    },\r\n  };\r\n});\r\n\r\nfunction Info({ availableSeats }) {\r\n  return (\r\n    <InfoContainer>\r\n      <StyledTypo variant=\"h1\">{availableSeats}</StyledTypo>\r\n      <StyledProgress value={20 * availableSeats} variant=\"determinate\" />\r\n      <Typography variant=\"h6\">Available Seats</Typography>\r\n    </InfoContainer>\r\n  );\r\n}\r\n\r\nexport default Info;\r\n","import { Popper, ClickAwayListener, Paper, Table, TableHead, TableBody, TableRow, TableCell, Typography } from \"@mui/material\";\r\n\r\nfunction Tip({ anchorEl, close }) {\r\n  return (\r\n    <ClickAwayListener mouseEvent=\"onMouseDown\" onClickAway={close}>\r\n      <Popper open={!!anchorEl} anchorEl={anchorEl}>\r\n        <Paper>\r\n            <Table>\r\n                <TableBody>\r\n                    <TableRow>\r\n                        <TableCell>status</TableCell>\r\n                        <TableCell>\r\n                            <Typography sx = {{color: \"info\"}}>\r\n                                available\r\n                            </Typography>\r\n                        </TableCell>\r\n                    </TableRow>\r\n                    <TableRow>\r\n                        <TableCell>average available time</TableCell>\r\n                        <TableCell>5 - 10 min</TableCell>\r\n                    </TableRow>\r\n                    <TableRow>\r\n                        <TableCell>last occupied</TableCell>\r\n                        <TableCell>10 min ago</TableCell>\r\n                    </TableRow>\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n      </Popper>\r\n    </ClickAwayListener>\r\n  );\r\n}\r\n\r\nexport default Tip;\r\n","import { styled } from \"@mui/material/styles\";\r\nimport EventSeatIcon from \"@mui/icons-material/EventSeat\";\r\nimport { useState } from \"react\";\r\nimport Tip from \"./Tip\";\r\n\r\nconst StyledIcon = styled(EventSeatIcon)(({ theme, available }) => ({\r\n  display: \"block\",\r\n  width: theme.spacing(10),\r\n  height: theme.spacing(10),\r\n  fill: available ? theme.palette.primary.dark : theme.palette.grey[300],\r\n  cursor: \"pointer\",\r\n  \"&:hover\": {\r\n    fill: available ? theme.palette.primary.light : theme.palette.grey[500],\r\n  },\r\n}));\r\n\r\nconst SeatIcons = styled(\"div\")(({ theme }) => ({\r\n  display: \"grid\",\r\n  gridTemplateColumns: \"repeat(5,1fr)\",\r\n  gridTemplateRows: \"repeat(2,1fr)\",\r\n  marginTop: theme.spacing(5),\r\n  justifyItems: \"center\",\r\n\r\n  [theme.breakpoints.down(\"sm\")]: {\r\n    gridTemplateColumns: \"repeat(2,1fr)\",\r\n    gridTemplateRows: \"repeat(3,1fr)\",\r\n  },\r\n}));\r\n\r\nfunction SeatsIcons({ seats }) {\r\n  const [clicked, setClicked] = useState(null);\r\n\r\n  //=== functions\r\n  const onClickIcon = (e) => setClicked(e.target);\r\n  const close = () => setClicked(null);\r\n  return (\r\n    <SeatIcons>\r\n      {seats.map((seat) => (\r\n        <StyledIcon\r\n          onClick={onClickIcon}\r\n          key={seat.seatNo}\r\n          available={seat.available ? 1 : 0}\r\n        />\r\n      ))}\r\n      <Tip anchorEl={clicked} close={close} />\r\n    </SeatIcons>\r\n  );\r\n}\r\n\r\nexport default SeatsIcons;\r\n","import { styled } from \"@mui/material/styles\";\r\nimport { memo, useContext, useEffect, useState } from \"react\";\r\n\r\nimport { SocketContext } from \"../../context/socketContext\";\r\nimport { IO_EVENTS } from \"./../../socket\";\r\n\r\nimport Progress from \"../Progress/Progress\";\r\nimport Info from \"./Info\";\r\nimport SeatsIcons from \"./SeatsIcons\";\r\n\r\n//=== styles\r\nconst StyledContainer = styled(\"div\")(({ theme }) => ({\r\n  padding: theme.spacing(2),\r\n  margin: `${theme.spacing(2)} auto`,\r\n  minHeight: 500,\r\n  maxWidth: 800,\r\n}));\r\n\r\nfunction Seats() {\r\n  const { socket } = useContext(SocketContext);\r\n  const [seats, setSeats] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket &&\r\n      socket.on(IO_EVENTS.RECEIVE_SEATS_INFO, (seats) => setSeats(seats));\r\n    socket && socket.on(IO_EVENTS.GET_SEATS_INFO, (seats) => setSeats(seats));\r\n  }, [socket]);\r\n\r\n  //=== functions\r\n  const getAvailableSeatNo = () =>\r\n    seats.filter((seat) => seat.available === true).length;\r\n\r\n  //=== vars\r\n  const availableSeats = getAvailableSeatNo();\r\n\r\n  return socket && seats.length !== 0 ? (\r\n    <StyledContainer>\r\n      <Info availableSeats={availableSeats} />\r\n      <SeatsIcons seats={seats} />\r\n    </StyledContainer>\r\n  ) : (\r\n    <Progress />\r\n  );\r\n}\r\n\r\nexport default memo(Seats);\r\n","import Navbar from \"./components/Navbar/Navbar\";\r\nimport Seats from \"./components/Seats/Seats\";\r\n\r\nimport SocketContextProvider from \"./context/socketContext\";\r\n\r\nfunction App() {\r\n  return (\r\n    <SocketContextProvider>\r\n      <Navbar />\r\n      <Seats />\r\n    </SocketContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}