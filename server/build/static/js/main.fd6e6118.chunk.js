(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(48),i=n.n(c),o=(n(86),n(124)),s=n(126),l=n(123),j=n(7),u=n(2),b=Object(j.a)(o.a)({backgroundColor:"#343a40"});var h=function(){return Object(u.jsx)(b,{position:"static",children:Object(u.jsx)(s.a,{children:Object(u.jsx)(l.a,{variant:"h5",children:"Seat Monitor"})})})},O=n(15),d=n(62),p=n.n(d),f=n(69),v=n(75),m="GET_SEATS_INFO",x="RECEIVE_SEATS_INFO",g=function(){return new Promise((function(e,t){var n=Object(v.a)("https://seatmonitor.azurewebsites.net");n.io.on("error",(function(e){return t(e)})),n.on("connect",(function(t){e(n)}))}))},y=Object(r.createContext)({}),k=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(O.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:(t=e.sent).emit(m),i(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsx)(y.Provider,{value:{socket:c},children:t})},w=n(127),S=n(120),E=Object(S.a)("div")((function(e){e.theme;return{display:"flex",alignItems:"center",flexDirection:"column"}}));var C=function(){return Object(u.jsxs)(E,{children:[Object(u.jsx)(l.a,{style:{marginBottom:"1em"},variant:"body2",children:" loading... "}),Object(u.jsx)(w.a,{})]})},T=n(9),I=n(128),A=Object(j.a)("div")((function(e){e.theme;return{}})),M=Object(j.a)(l.a)((function(e){var t=e.theme;return Object(T.a)({},t.breakpoints.down("sm"),{fontSize:t.typography.h2.fontSize})})),_=Object(j.a)(I.a)((function(e){var t=e.theme,n=e.value<60;return{marginBottom:t.spacing(1),backgroundColor:n?t.palette.error.light+"30":t.palette.primary.light+"30","& .MuiLinearProgress-bar":{backgroundColor:n?t.palette.error.main:t.palette.primary.main}}}));var z=function(e){var t=e.availableSeats;return Object(u.jsxs)(A,{children:[Object(u.jsx)(M,{variant:"h1",children:t}),Object(u.jsx)(_,{value:20*t,variant:"determinate"}),Object(u.jsx)(l.a,{variant:"h6",children:"Available Seats"})]})},B=n(74),N=n.n(B),P=n(121),R=n(122),D=n(125),F=n(129),J=n(130),G=n(131),H=n(132);var L=function(e){var t=e.anchorEl,n=e.close;return Object(u.jsx)(P.a,{mouseEvent:"onMouseDown",onClickAway:n,children:Object(u.jsx)(R.a,{open:!!t,anchorEl:t,children:Object(u.jsx)(D.a,{children:Object(u.jsx)(F.a,{children:Object(u.jsxs)(J.a,{children:[Object(u.jsxs)(G.a,{children:[Object(u.jsx)(H.a,{children:"status"}),Object(u.jsx)(H.a,{children:Object(u.jsx)(l.a,{sx:{color:"info"},children:"available"})})]}),Object(u.jsxs)(G.a,{children:[Object(u.jsx)(H.a,{children:"average available time"}),Object(u.jsx)(H.a,{children:"5 - 10 min"})]}),Object(u.jsxs)(G.a,{children:[Object(u.jsx)(H.a,{children:"last occupied"}),Object(u.jsx)(H.a,{children:"10 min ago"})]})]})})})})})},V=Object(j.a)(N.a)((function(e){var t=e.theme,n=e.available;return{display:"block",width:t.spacing(10),height:t.spacing(10),fill:n?t.palette.primary.dark:t.palette.grey[300],cursor:"pointer","&:hover":{fill:n?t.palette.primary.light:t.palette.grey[500]}}})),W=Object(j.a)("div")((function(e){var t=e.theme;return Object(T.a)({display:"grid",gridTemplateColumns:"repeat(5,1fr)",gridTemplateRows:"repeat(2,1fr)",marginTop:t.spacing(5),justifyItems:"center"},t.breakpoints.down("sm"),{gridTemplateColumns:"repeat(2,1fr)",gridTemplateRows:"repeat(3,1fr)"})}));var q=function(e){var t=e.seats,n=Object(r.useState)(null),a=Object(O.a)(n,2),c=a[0],i=a[1],o=function(e){return i(e.target)};return Object(u.jsxs)(W,{children:[t.map((function(e){return Object(u.jsx)(V,{onClick:o,available:e.available?1:0},e.seatNo)})),Object(u.jsx)(L,{anchorEl:c,close:function(){return i(null)}})]})},K=Object(j.a)("div")((function(e){var t=e.theme;return{padding:t.spacing(2),margin:"".concat(t.spacing(2)," auto"),minHeight:500,maxWidth:800}}));function Q(){var e=Object(r.useContext)(y).socket,t=Object(r.useState)([]),n=Object(O.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){e&&e.on(x,(function(e){return c(e)})),e&&e.on(m,(function(e){return c(e)}))}),[e]);var i=a.filter((function(e){return!0===e.available})).length;return e&&0!==a.length?Object(u.jsxs)(K,{children:[Object(u.jsx)(z,{availableSeats:i}),Object(u.jsx)(q,{seats:a})]}):Object(u.jsx)(C,{})}var U=Object(r.memo)(Q);var X=function(){return Object(u.jsxs)(k,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(U,{})]})};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(X,{})}),document.getElementById("root"))},86:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.fd6e6118.chunk.js.map